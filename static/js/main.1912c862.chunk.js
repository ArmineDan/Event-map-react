(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,n){e.exports=n(435)},200:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){e.exports=n.p+"static/media/bee.9557d7f1.png"},435:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(43),l=n.n(i),s=(n(200),n(75)),o=n(76),c=n(82),u=n(77),d=n(83),m=n(182),h=n.n(m),p=(n(201),n(204),n(436),h.a.initializeApp({apiKey:"AIzaSyBBJKtydYHHJiOtJz1pdRTbQkKkSm_cly4",authDomain:"task-8f8b6.firebaseapp.com",databaseURL:"https://task-8f8b6.firebaseio.com",projectId:"task-8f8b6",storageBucket:"",messagingSenderId:"352463508369",appId:"1:352463508369:web:0ed3ad34d9075993"}));n(206),n(207);var f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.getEmail=function(t){e.setState({email:t.target.value,err_err:""})},e.getPass=function(t){e.setState({pass:t.target.value,err_err:""})},e.pressEnter=function(t){13===(t||window.event).which&&e.login()},e.login=function(){var t=e.state,n=t.pass,a=t.email;n&&a?function(e,t){return new Promise(function(n,a){p.auth().signInWithEmailAndPassword(e,t).then(function(e){n(e)}).catch(function(e){return a(e)})})}(a,n).then(function(){e.props.history.push("/dashboard")}).catch(function(t){e.setState({err_err:t.message,pass:"",email:""})}):e.setState({err_err:e.state.name?"":"Email and Pasword are required."})},e.register=function(){var t=e.state,n=t.pass,a=t.email;n&&a?function(e,t){return new Promise(function(n,a){p.auth().createUserWithEmailAndPassword(e,t).then(function(e){return n(e)}).catch(function(e){return a(e)})})}(a,n).then(function(){e.setState({pass:"",email:""}),e.props.history.push("/dashboard")}).catch(function(t){e.setState({err_err:t.message})}):e.setState({err_err:e.state.name?"":"Email and Pasword are required."})},e.state={pass:"",email:"",err_err:"",logged_in:!0},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,p.auth().onAuthStateChanged(function(t){t&&t.emailVerified?e.props.history.push("/dashboard"):e._isMounted&&e.setState({logged_in:!1})})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.pass,n=e.email,a=e.err_err,i=e.logged_in;return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"form-style-5"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Do you want to see Events of the world ? "),a?r.a.createElement("span",{className:"err"},a):null,r.a.createElement("input",{type:"email",value:n,onChange:this.getEmail,placeholder:"Your email*"}),r.a.createElement("input",{type:"password",value:t,onChange:this.getPass,placeholder:"Your password *",onKeyPress:this.pressEnter})),r.a.createElement("input",{type:"button",className:"btn btn-info",onClick:this.login,value:"Login"}),r.a.createElement("h6",{className:"regLine"}," Not Registered Yet ? "),r.a.createElement("input",{type:"button",className:"btn btn-info",onClick:this.register,value:"Register"})),r.a.createElement("div",{style:{marginTop:"12px"}},r.a.createElement("span",{style:{color:"#E91E63",fontWeight:"800",fontSize:"19px"}},"What I've used:"),r.a.createElement("br",null),"Front - React/Redux, axios, email Validation by sending Link",r.a.createElement("br",null),"Backend - Firebase (Just create some data models and use it's api from react)"))))}}]),t}(r.a.Component),E=n(194),v=n(183),g=n.n(v),y="Bearer ".concat("HFFUQDV3VRQZ75KZ555R"),b="https://www.eventbriteapi.com/v3/events/search/?expand=organizer,venue&token=HFFUQDV3VRQZ75KZ555R";var _=function(){return r.a.createElement("div",{className:"page-transition-wrap"},r.a.createElement("div",{className:"css3-spinner"},r.a.createElement("div",{className:"css3-spinner-ball-scale-multiple"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))},S=n(81),w=n(118),O=n(53),N=Object(O.withGoogleMap)(function(e){var t=Object(a.useState)(!1),n=Object(w.a)(t,2),i=n[0],l=n[1],s=Object(a.useState)(null),o=Object(w.a)(s,2),c=o[0],u=o[1];function d(){l(this.getTitle())}function m(){l(!1)}Object(a.useEffect)(function(){return u(null),function(){}},[e]);var h=e.position.map(function(e,t){return r.a.createElement(O.Marker,{key:t,position:{lat:+e.latitude,lng:+e.longitude},onMouseOver:d,onMouseOut:m,title:e.name},i===e.name&&r.a.createElement(O.InfoWindow,null,r.a.createElement("div",{className:"marker-info"}," ",r.a.createElement("div",{className:"address-title"},e.name)," ",r.a.createElement("div",null,e.address.localized_address_display))))});return r.a.createElement(O.GoogleMap,{defaultZoom:8,defaultCenter:e.position.length?{lat:+e.position[0].latitude,lng:+e.position[0].longitude}:{},center:!c&&e.position.length?{lat:+e.position[Math.floor(e.position.length/2)].latitude,lng:+e.position[Math.floor(e.position.length/2)].longitude}:null,onCenterChanged:function(){u(!0)}},h)}),j=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.getCityName=function(t){e.props.events.length&&e.props.reset_event_list(),e.setState({city_name:t.target.value,err:""})},e.onEnter=function(t){var n,a=e.state.city_name;13===t.which&&(e.setState({show_loading:!0}),(n=a,new Promise(function(e,t){g.a.get(b,{headers:{Authorization:y,"Content-Type":"application/json"}}).then(function(t){var a=[],r=!0,i=!1,l=void 0;try{for(var s,o=t.data.events[Symbol.iterator]();!(r=(s=o.next()).done);r=!0){var c=s.value;if(c.venue.address.city===n){var u=c.description.text,d=Object(E.a)({},c.venue,{decr:u});a.push(d)}}}catch(m){i=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(i)throw l}}e(a)}).catch(function(e){t(e)})})).then(function(t){t.length?(e.setState({api_res:t,city_name:"",show_loading:!1}),e.props.get_event_list(t)):e.setState({err:"No event data or the city name is wrong!!",city_name:"",show_loading:!1,api_res:[{latitude:40.151872,longitude:44.496869,name:"Bee Web",address:{localized_address_display:"34 Garegin Nzhdeh St, Yerevan 0026"}}]})}).catch(function(t){e.setState({err:t})}))},e.logOut=function(){p.auth().signOut().then(function(){this.props.history.push("/")}).catch(function(e){})},e.state={user_verified:!1,show_loading:!1,city_name:"",err:"",api_res:[{latitude:40.151872,longitude:44.496869,name:"Bee Web",address:{localized_address_display:"34 Garegin Nzhdeh St, Yerevan 0026"}}]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,p.auth().onAuthStateChanged(function(t){if(t){if(!t.emailVerified)p.auth().currentUser.sendEmailVerification().then(function(){}).catch(function(e){});e._isMounted&&e.setState({user_verified:t.emailVerified})}else e.props.history.push("/")})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.city_name,n=e.user_verified,a=e.api_res,i=e.err,l=e.show_loading,s=this.props.events,o=s.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null," ",++t),r.a.createElement("td",null," ",e.name),r.a.createElement("td",{style:{width:"20%"}},e.address.localized_address_display),r.a.createElement("td",{style:{fontSize:"12px"}}," ",e.decr))});return r.a.createElement("div",null,this._isMounted&&r.a.createElement(r.a.Fragment,null,n?r.a.createElement(r.a.Fragment,null,l?r.a.createElement(_,null):null,r.a.createElement("div",{className:"form-style-5-dash"},r.a.createElement("div",{className:"flex"},r.a.createElement("input",{type:"text",value:t,onChange:this.getCityName,onKeyPress:this.onEnter,placeholder:"Enter the City name"}),r.a.createElement("i",{className:"icon-line-cross"}),r.a.createElement("input",{type:"button",className:"btn btn-info",onClick:this.logOut,value:"Log Out"})),i&&r.a.createElement("span",{className:"err-info"},i)),r.a.createElement(N,{position:a,containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),s.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-res"},"We found ".concat(s.length," events ")),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Description"))),r.a.createElement("tbody",null,o))):null):r.a.createElement("div",{className:"verify-text"},r.a.createElement("h3",null,"We have sent a confirmation link to your email address. Please log in to your email account. "))))}}]),t}(r.a.Component),k=Object(S.b)(function(e){return{events:e.events}},function(e){return{get_event_list:function(t){return e({type:"GET_EVETS_LISTS",payload:t})},reset_event_list:function(t){return e({type:"RESET_EVETS_LISTS",payload:t})}}})(j),M=n(29),C=n(113),T=n(192),x=n(34),z=n(188),R=n(189),V=n.n(R),I=n(193),P=T.a,W=Object(x.createStore)(Object(x.combineReducers)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_EVETS_LISTS"===t.type?e=Object(I.a)(t.payload):"RESET_EVETS_LISTS"===t.type?e=[]:e}}),Object(z.composeWithDevTools)(Object(x.applyMiddleware)(V.a))),F=r.a.createElement(S.a,{store:W},r.a.createElement(C.a,{history:P},r.a.createElement(M.d,null,r.a.createElement(M.b,{exact:!0,path:"/",component:f}),r.a.createElement(M.b,{path:"/dashboard",component:k}),r.a.createElement(M.a,{to:"/",component:f}))));l.a.render(F,document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.1912c862.chunk.js.map